/*! For license information please see birthdaypicker.min.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("BirthdayPicker",[],e):"object"==typeof exports?exports.BirthdayPicker=e():t.BirthdayPicker=e()}(this,(function(){return function(){"use strict";var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}t.d(e,{default:function(){return O}});var i=function(t,e,n,r){return function(t,e,n,r){if(e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.setAttribute(i,e[i]);if(n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t.style[a]=n[a]);return r&&(t.innerHTML=r),t}(document.createElement(t),e,n,r)},a=function(t,e){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return!1;if(void 0===e||void 0===t.dataset[e])return t.dataset;try{i=JSON.parse(t.dataset[e].replace(/'/g,'"'))}catch(t){}if("object"!==r(i)){i=t.dataset[e];var o={},s=(i=i.replace(/ /g,"")).split(",");s.length>1?s.forEach((function(t){var e,r,i=(e=t.split(":"),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],h=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);h=!0);}catch(t){l=!0,i=t}finally{try{if(!h&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,r)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],s=i[1];o[a.replace(/'/g,"")]=s.replace(/'/g,"")})):o[e]=i,i=o}var h={},l=e.length;return Object.entries(t.dataset).forEach((function(t){if(t[0].toLowerCase().indexOf(e)>=0&&t[0].length>l){var n=t[0][l].toLowerCase()+t[0].substring(l+1);(null===a||a&&void 0!==a[n])&&(h[n]=t[1])}})),Object.assign(i,h)},o=function(t){return 0==+t%4&&0!=+t%100||0==+t%400},s={_s:new WeakMap,put:function(t){this._s.has(t)||this._s.set(t,new Map);for(var e=this._s.get(t),n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(i.length>1)return e.set(i[0],i[1]),this;if("object"===r(i[0]))for(var o in i[0])({}).hasOwnProperty.call(i[0],o)&&e.set(o,i[0][o]);return this},get:function(t,e){return!!this._s.has(t)&&(e?this._s.get(t).get(e):this._s.get(t))},has:function(t,e){return this._s.has(t)&&this._s.get(t).has(e)},remove:function(t,e){if(!this._s.has(t))return!1;var n=this._s.get(t).delete(e);return 0===this._s.get(t).size&&this._s.delete(t),n}},h=function(t,e,n){if(t=parseFloat(t,10),e=parseFloat(e,10),(n=parseFloat(n,10))<e){var r=n;n=e,e=r}return!isNaN(e)&&t<e?e:!isNaN(n)&&t>n?n:t};function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,a,o,s=[],h=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);h=!0);}catch(t){l=!0,i=t}finally{try{if(!h&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function f(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:String(e)}var y=[],g="birthdaypicker",v="data-"+g,m=["short","long","numeric"],p=["ymd","ydm","myd","mdy","dmy","dym"],_=["init","datechange","daychange","monthchange","yearchange"],b="option",E=new Date,D=E.getFullYear(),L=E.getMonth()+1,w=E.getDate(),k=!1,S=function(t){return!0===t||"true"===t||1===t||"1"===t},M=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)return{error:!0};if(null===(e="string"==typeof e?document.querySelector(e):e)||0===e.length)return{error:!0};if(e.dataset.bdpinit)return t.getInstance(e);e.dataset.bdpinit=!0,y.push(this),s.put(e,"instance",this);var r=a(e,g,t.defaults);this.options=n,this.settings=Object.assign({},t.defaults,r,n),this.element=e,this.settings.autoinit&&this.init()}var e,n;return e=t,n=[{key:"_getIdx",value:function(t,e){if(!t)return[void 0,void 0];for(var n=0;n<t.length;n++){var r=t[n];if(+r.value==+e)return[n,+r.value]}return[void 0,void 0]}},{key:"_setYear",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=h(t,this._yearEnd,this._yearStart);var n=u(this._getIdx(this._year.el.childNodes,t),2),r=n[0],i=n[1];return this.currentYear!==i&&(this._year.el.selectedIndex=r,this._yearWasChanged(i),e&&this._triggerEvent(_[1]),!0)}},{key:"_setMonth",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=h(t,1,12);var n=u(this._getIdx(this._month.el.childNodes,t),2),r=n[0],i=n[1];return this.currentMonth!==i&&(this._month.el.selectedIndex=r,this._monthWasChanged(i),e&&this._triggerEvent(_[1]),!0)}},{key:"_setDay",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=h(t,1,31);var n=u(this._getIdx(this._day.el.childNodes,t),2),r=n[0],i=n[1];return this.currentDay!==i&&(this._day.el.selectedIndex=r,this._dayWasChanged(i),e&&this._triggerEvent(_[1]),!0)}},{key:"_getDateValuesInRange",value:function(t){var e=t.year,n=t.month,r=t.day;return e<this._yearEnd?e=n=r=void 0:e>this._yearStart?(e=D,n=L,r=w):e===this._yearStart&&(n>L?(n=L,r=w):n===L&&r>w&&(r=w)),{year:e,month:n,day:r}}},{key:"_setDate",value:function(t){var e=t.year,n=t.month,r=t.day;this._monthWillBeChangedLater=n!==this.currentMonth;var i=this._setYear(e,!1),a=this._setMonth(n,!1),o=this._setDay(r,!1);(i||a||o)&&(this.settings.selectFuture||this._nofutureDate(D,L,w),this._triggerEvent(_[1])),this._monthWillBeChangedLater=!1}},{key:"_parseDate",value:function(t){var e=Date.parse(t);if(isNaN(e))return!1;var n=new Date(e);return{year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()}}},{key:"_getMonthText",value:function(t){return"numeric"!==this.settings.monthFormat?t:this.settings.leadingZero&&+t<10?"0"+t:""+t}},{key:"_create",value:function(){var e,n=this;this.settings.placeholder&&this._date.forEach((function(e){var r=t.i18n[n.settings.locale].text[e.name],a=i(b,{value:""},"",r);e.df.appendChild(a)}));for(var r=this._yearStart;r>=this._yearEnd;r--){var a=i(b,{value:r},"",r);this._year.df.append(a)}this.monthFormat[this.settings.monthFormat].forEach((function(t,e){var r=i(b,{value:e+1},"",n._getMonthText(t));n._month.df.append(r)}));for(var o=1;o<=31;o++){e=this.settings.leadingZero&&o<10?"0"+o:o;var s=i(b,{value:o},"",e);this._day.df.append(s)}this._date.forEach((function(t){return t.el.append(t.df)}))}},{key:"_updateDays",value:function(t){var e=this._map[+t-1],n=this.settings.placeholder?1:0,r=this._day.el.children.length-n;if(e!==r){if(e-r>0)for(var a=r;a<e;a++){var o=i(b,{value:a+1},"",""+(a+1));this._day.el.append(o)}else for(var s=r;s>e;s--)this._day.el.children[s+n-1].remove();this.currentDay&&+this._day.el.value!==this.currentDay&&this._dayWasChanged()}}},{key:"_triggerEvent",value:function(t){var e,n,r,i,a={detail:{instance:this,year:this._year.el.value,month:this._month.el.value,day:this._day.el.value,date:this.getDate()}},o=new CustomEvent(t,a);this.element.dispatchEvent(o),this.eventFired[t]=o,n=t,r=o,i=(e=this.element).getAttribute("on"+n),new Function("e","{"+i+"}").call(e,r)}},{key:"_nofutureDate",value:function(t,e,n){var r=this;this._disabled.length&&(this._disabled.forEach((function(t){t.disabled=!1})),this._disabled=[]),+this.currentYear>t?(this._setYear(t,!1),+this.currentMonth!==e&&this._setMonth(e,!1),+this.currentDay!==n&&this._setDay(n,!1)):+this.currentYear===t&&(this._month.el.childNodes.forEach((function(t){t.value>e&&(t.disabled=!0,r._disabled.push(t))})),+this.currentMonth>e&&this._setMonth(e,!1),+this.currentMonth===e&&(this._day.el.childNodes.forEach((function(t){t.value>n&&(t.disabled=!0,r._disabled.push(t))})),+this.currentDay>n&&this._setDay(n,!1)))}},{key:"_dateChanged",value:function(t){t.target===this._year.el?this._yearWasChanged(+t.target.value):t.target===this._month.el?this._monthWasChanged(+t.target.value):t.target===this._day.el&&this._dayWasChanged(+t.target.value),this._triggerEvent(_[1])}},{key:"_dayWasChanged",value:function(t){this.currentDay=t,this._triggerEvent(_[2])}},{key:"_monthWasChanged",value:function(t){this.currentMonth=t,this._triggerEvent(_[3]),this._updateDays(t)}},{key:"_yearWasChanged",value:function(t){if(this.currentYear=t,this._map[1]=o(t)?29:28,this._triggerEvent(_[4]),this._monthWillBeChangedLater)return!0;var e=this._month.el.value;2==+e&&this._updateDays(e)}},{key:"useLeadingZero",value:function(t){(t=S(t))!==this.settings.leadingZero&&(this.settings.leadingZero=t,"numeric"===this.settings.monthFormat&&this._updateMonthList(),this._updateDayList())}},{key:"_updateDayList",value:function(){for(var t=this.settings.placeholder?1:0,e=0;e<9;e++)this._day.el.childNodes[e+t].innerHTML=(this.settings.leadingZero?"0":"")+(e+1)}},{key:"_updateMonthList",value:function(){var t=this,e=this.settings.monthFormat,n=this.settings.placeholder?1:0;this.monthFormat[e].forEach((function(e,r){t._month.el.childNodes[r+n].innerHTML=t._getMonthText(e)}))}},{key:"setMonthFormat",value:function(t){if(!this.monthFormat[t]||t===this.settings.monthFormat)return!1;this.settings.monthFormat=t,this._updateMonthList()}},{key:"setLanguage",value:function(e){var n=this;if(e===this.settings.locale||(""+e).length<2||(""+e).length>2)return!1;t.createLocale(e);var r=t.i18n[e];if(this.settings.placeholder&&this._date.forEach((function(t){t.el.childNodes[0].innerHTML=r.text[t.name]})),this.monthFormat=r.month,this.settings.locale=e,"numeric"===this.settings.monthFormat)return!1;var i=this.settings.placeholder?1:0;this.monthFormat[this.settings.monthFormat].forEach((function(t,e){n._month.el.childNodes[i+e].innerHTML=t})),this._triggerEvent(_[1])}},{key:"setDate",value:function(t){var e=this._parseDate(t);return e&&(e=this._getDateValuesInRange(e),this._setDate(e)),e}},{key:"addEventListener",value:function(t,e,n){if(_.indexOf(t)<0||"function"!=typeof e)return!1;this.element.addEventListener(t,e,n),this._registeredEventListeners.push({eventName:t,listener:e,option:n}),this.eventFired[t]&&e.call(this.element,this.eventFired[t])}},{key:"removeEventListener",value:function(t,e,n){this.element.removeEventListener(t,e,n)}},{key:"kill",value:function(){var t=this;this.eventFired={},this._registeredEventListeners&&this._registeredEventListeners.forEach((function(e){return t.removeEventListener(e.eventName,e.listener,e.option)}))}},{key:"isLeapYear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentYear;return void 0===t?void 0:o(t)}},{key:"getDate",value:function(t){if(!this.currentYear||!this.currentMonth||!this.currentDay)return"";if(!t)return new Date(Date.UTC(this.currentYear,+this.currentMonth-1,this.currentDay)).toLocaleDateString(this.settings.locale);var e=t.toLowerCase();return(e=(e=(e=(e=(e=e.replace(/yyyy/g,this.currentYear)).replace(/yy/g,(""+this.currentYear).slice(2))).replace(/mm/g,("0"+this.currentMonth).slice(-2))).replace(/m/g,this.currentMonth)).replace(/dd/g,("0"+this.currentDay).slice(-2))).replace(/d/g,this.currentDay)}},{key:"init",value:function(){var e=this;if(this.initialized)return!0;this.initialized=!0,this.eventFired={},this._registeredEventListeners=[],this._map=[31,28,31,30,31,30,31,31,30,31,30,31],this._date=[],this._disabled=[];var n=this.settings;n.placeholder=S(n.placeholder),n.leadingZero=S(n.leadingZero),n.selectFuture=S(n.selectFuture);var r={y:"year",m:"month",d:"day"};p.indexOf(n.arrange)<0&&(n.arrange="ymd"),n.arrange.split("").forEach((function(t){var a=r[t],o=n[a+"El"]?n[a+"El"]:"["+v+"-"+a+"]",s=e.element.querySelector(o);s&&!s.dataset.init||(s=i("select"),e.element.append(s)),e["_"+a]={el:s,df:document.createDocumentFragment(),name:a},e._date.push(e["_"+a]),s.dataset.init=!0,s.addEventListener("change",(function(t){e._dateChanged(t)}),!1)})),"now"===n.maxYear?this._yearStart=D:this._yearStart=n.maxYear,this._yearStart-=+n.minAge,n.minYear?this._yearEnd=+n.minYear:this._yearEnd=this._yearStart-+n.maxAge,t.createLocale(n.locale),this.monthFormat=t.i18n[n.locale].month,this._create(),this._triggerEvent(_[0]),n.defaultDate&&this.setDate("now"===n.defaultDate?(new Date).toString():n.defaultDate)}}],n&&d(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();M.i18n={},M.currentLocale="en";var F,x,j={en:{text:{year:"Year",month:"Month",day:"Day"}},de:{text:{year:"Jahr",month:"Monat",day:"Tag"}}};M.createLocale=function(t){if(!M.i18n[t]){for(var e=new Date("2000-01-15"),n={month:{}},r=0;r<12;r++)e.setMonth(r),m.forEach((function(r){n.month[r]=n.month[r]||[],n.month[r].push(e.toLocaleDateString(t,{month:r}))}));var i="BirthdayPickerLocale",a=j[t]?j[t]:j.en;return window[i]&&window[i][t]&&window[i][t].text&&(a=Object.assign({},a,window[i][t])),n.text=a.text,M.i18n[t]=n,n}},M.setMonthFormat=function(t){y.forEach((function(e){e.setMonthFormat(t)}))},M.setLanguage=function(t){M.currentLocale=t,y.forEach((function(e){e.setLanguage(t)}))},M.getInstance=function(t){return s.get(t,"instance")},M.killAll=function(){y&&y.forEach((function(t){M.kill(t)}))},M.kill=function(t){if(t&&(t.element||(t=M.getInstance(t)),t)){t.kill();var e=t.element;e.dataset.bdpinit=!1,delete e.dataset.bdpinit,s.remove(e,"instance")}},M.defaults={minYear:null,maxYear:"now",minAge:0,maxAge:100,monthFormat:"short",placeholder:!0,defaultDate:null,autoinit:!0,leadingZero:!0,locale:"en",selectFuture:!1,arrange:"ymd",yearEl:null,monthEl:null,dayEl:null},M.init=function(){if(k)return!1;k=!0,M.createLocale(M.currentLocale);var t=document.querySelectorAll("["+v+"]");return 0!==t.length&&(t.forEach((function(t){if(t.dataset.bdpinit)return M.getInstance(t);var e=a(t,g);new M(t,e)})),y)},F=M.init,x="DOMContentLoaded","complete"===document.readyState||"interactive"===document.readyState?(F(),document.removeEventListener(x,F)):document.addEventListener(x,F,!1);var O=M;return e.default}()}));