/*! For license information please see birthdaypicker.esm.min.js.LICENSE.txt */
var t={d:function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};t.d(e,{A:function(){return F}});var n={en:{text:{year:"Year",month:"Month",day:"Day"}},de:{text:{year:"Jahr",month:"Monat",day:"Tag"}}};function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var i=function(t,e,n,r){return function(t,e,n,r){if(e)for(var a in e)t.setAttribute(a,e[a]);if(n)for(var i in n)t.style[i]=n[i];return r&&(t.innerHTML=r),t}(document.createElement(t),e,n,r)},s=function(t){return 0==+t%4&&0!=+t%100||0==+t%400},o={_s:new WeakMap,put:function(t){this._s.has(t)||this._s.set(t,new Map);for(var e=this._s.get(t),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>1)return e.set(r[0],r[1]),this;if("object"===a(r[0]))for(var s in r[0])e.set(s,r[0][s]);else e.set(r[0]);return this},get:function(t,e){return!!this._s.has(t)&&(e?this._s.get(t).get(e):this._s.get(t))},has:function(t,e){return this._s.has(t)&&this._s.get(t).has(e)},remove:function(t,e){if(!this._s.has(t))return!1;var n=this._s.get(t).delete(e);return 0===this._s.get(t).size&&this._s.delete(t),n}},h=function(t,e,n){if(t=parseFloat(t,10),isNaN(t))return NaN;if(e=parseFloat(e,10),(n=parseFloat(n,10))<e){var r=n;n=e,e=r}return!isNaN(e)&&t<e?e:!isNaN(n)&&t>n?n:t};function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function d(t,e,n){return(e=f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}var y,g,v=[],m="birthdaypicker",p="data-"+m,_=["short","long","numeric"],b=["ymd","ydm","myd","mdy","dmy","dym"],D=["init","datechange","daychange","monthchange","yearchange","kill"],E="option",L=new Date,M={y:L.getFullYear(),m:L.getMonth()+1,d:L.getDate(),t:L.getTime()},w=!1,k=function(t){return!0===t||"true"===t||1===t||"1"===t},S=function(){function t(e,n){var i=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,"_onSelect",(function(t){t.target===i._year.el?i._yearWasChanged(+t.target.value):t.target===i._month.el?i._monthWasChanged(+t.target.value):t.target===i._day.el&&i._dayWasChanged(+t.target.value),i._dateChanged()})),!e)return{error:!0};if(null===(e="string"==typeof e?document.querySelector(e):e)||0===e.length)return{error:!0};if(e.dataset.bdpInit)return t.getInstance(e);e.dataset.bdpInit=!0,v.push(this),o.put(e,"instance",this);var s=function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return!1;if(void 0===e||void 0===t.dataset[e])return t.dataset;try{n=JSON.parse(t.dataset[e].replace(/'/g,'"'))}catch(t){}if("object"!==a(n)){n=t.dataset[e];var s={},o=(n=n.replace(/ /g,"")).split(",");o.length>1?o.forEach((function(t){var e,n,a=(e=t.split(":"),n=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,s,o=[],h=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;h=!1}else for(;!(h=(r=i.call(n)).done)&&(o.push(r.value),o.length!==e);h=!0);}catch(t){u=!0,a=t}finally{try{if(!h&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}(e,n)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=a[0],o=a[1];s[i.replace(/'/g,"")]=o.replace(/'/g,"")})):s[e]=n,n=s}var h={},u=e.length;return Object.entries(t.dataset).forEach((function(t){if(t[0].toLowerCase().indexOf(e)>=0&&t[0].length>u){var n=t[0][u].toLowerCase()+t[0].substring(u+1);(null===i||i&&void 0!==i[n])&&(h[n]=t[1])}})),Object.assign(n,h)}(e,m,t.defaults);this.options=n,this.settings=Object.assign({},t.defaults,s,n),this.element=e,this.settings.autoInit&&this.init()}return e=t,n=[{key:"_getIdx",value:function(t,e){if(t&&!isNaN(e||void 0===e))for(var n=0;n<t.length;n++)if(+t[n].value==+e)return n}},{key:"_updateSelectBox",value:function(t,e){var n=this[t].el;n.selectedIndex=this._getIdx(n.childNodes,e)}},{key:"_dateChanged",value:function(){this.settings.selectFuture||this._noFutureDate(M.y,M.m,M.d),this._triggerEvent(D[1])}},{key:"_setYear",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=h(t,this._yearEnd,this._yearStart),this.currentYear!==t&&(this._updateSelectBox("_year",t),this._yearWasChanged(t),e&&this._dateChanged(),!0)}},{key:"_setMonth",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=h(t,1,12),this.currentMonth!==t&&(this._updateSelectBox("_month",t),this._monthWasChanged(t),e&&this._dateChanged(),!0)}},{key:"_setDay",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=h(t,1,this.getDaysPerMonth()),this.currentDay!==t&&(this._updateSelectBox("_day",t),this._dayWasChanged(t),e&&this._dateChanged(),!0)}},{key:"_setDate",value:function(t){var e=t.year,n=t.month,r=t.day;this._monthChangeTriggeredLater=n!==this.currentMonth;var a=this._setYear(e,!1),i=this._setMonth(n,!1),s=this._setDay(r,!1);(a||i||s)&&this._dateChanged(),this._monthChangeTriggeredLater=!1}},{key:"_parseDate",value:function(t){"object"!==l(t)&&(t=t.replaceAll("-","/"));var e=Date.parse(t);if(isNaN(e))return!1;var n=new Date(e);return{year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate()}}},{key:"_getMonthText",value:function(t){return"numeric"!==this.settings.monthFormat?t:this.settings.leadingZero&&+t<10?"0"+t:""+t}},{key:"_create",value:function(){var e=this,n=this.settings;b.indexOf(n.arrange)<0&&(n.arrange="ymd");var r={y:"year",m:"month",d:"day"};n.arrange.split("").forEach((function(t){var a,s=r[t],o=n[s+"El"];o&&void 0!==o.nodeName?a=o:(o=o||"["+p+"-"+s+"]",a=e.element.querySelector(o)),a&&!a.dataset.init||(a=i("select"),e.element.append(a)),a.setAttribute("aria-label","select ".concat(s)),n.className&&(a.classList.add(n.className),a.classList.add("".concat(n.className,"-").concat(s))),a.dataset.init=!0;var h="change",u=e._onSelect,l=!1;a.addEventListener(h,u,l),e._registeredEventListeners.push({element:a,eventName:h,listener:u,option:l}),e["_"+s]={el:a,df:document.createDocumentFragment(),name:s},e._date.push(e["_"+s])}));var a,s=i(E,{value:""});n.placeholder&&this._date.forEach((function(e){var r=t.i18n[n.locale].text[e.name],a=s.cloneNode();a.innerHTML=r,e.df.appendChild(a)}));for(var o=this._yearStart;o>=this._yearEnd;o--){var h=s.cloneNode();h.value=o,h.innerHTML=o,this._year.df.append(h)}this.monthFormat[n.monthFormat].forEach((function(t,n){var r=s.cloneNode();r.value=n+1,r.innerHTML=e._getMonthText(t),e._month.df.append(r)}));for(var u=1;u<=31;u++){a=n.leadingZero&&u<10?"0"+u:u;var l=i(E,{value:u},"",a);this._day.df.append(l)}this._date.forEach((function(t){return t.el.append(t.df)}))}},{key:"_updateDays",value:function(t){var e=this.getDaysPerMonth(t),n=this.settings.placeholder?1:0,r=this._day.el.children.length-n;if(e!==r)if(void 0===e&&(e=31),e-r>0)for(var a=r;a<e;a++){var s=i(E,{value:a+1},"",""+(a+1));this._day.el.append(s)}else{for(var o=r;o>e;o--)this._day.el.children[o+n-1].remove();this.currentDay>e&&(this.settings.roundDownDay?this._setDay(e,!1):this._dayWasChanged(void 0))}}},{key:"_triggerEvent",value:function(t,e){var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({instance:this,year:+this._year.el.value,month:+this._month.el.value,day:+this._day.el.value,date:this.getDate()},e),r=new CustomEvent(t,{detail:n});this.element.dispatchEvent(r),this.eventFired[t]=r,function(t,e,n){var r=t.getAttribute("on"+e);new Function("e","{"+r+"}").call(t,n)}(this.element,t,r)}},{key:"_noFutureDate",value:function(t,e,n){var r=this;if(this._disabled.length&&(this._disabled.forEach((function(t){t.disabled=!1})),this._disabled=[]),this.currentYear<t||!this.currentYear||!this.currentYear&&!this.currentMonth&&!this.currentDay)return!1;this.currentYear>t&&this._setYear(t,!1),this._month.el.childNodes.forEach((function(t){t.value>e&&(t.disabled=!0,r._disabled.push(t))}));var a=this.currentMonth>e;return a&&this._setMonth(e,!1),e===this.currentMonth&&(this._day.el.childNodes.forEach((function(t){t.value>n&&(t.disabled=!0,r._disabled.push(t))})),(a||this.currentDay>n)&&this._setDay(n,!1)),!0}},{key:"_dayWasChanged",value:function(t){this.currentDay=t,this._triggerEvent(D[2])}},{key:"_monthWasChanged",value:function(t){this.currentMonth=t,this._triggerEvent(D[3]),this._updateDays(t)}},{key:"_yearWasChanged",value:function(t){this.currentYear=t,this._daysPerMonth[1]=s(t)?29:28,this._triggerEvent(D[4]),this._monthChangeTriggeredLater||2!==this.currentMonth||this._updateDays(this.currentMonth)}},{key:"useLeadingZero",value:function(t){(t=k(t))!==this.settings.leadingZero&&(this.settings.leadingZero=t,"numeric"===this.settings.monthFormat&&this._updateMonthList(),this._updateDayList())}},{key:"_updateDayList",value:function(){for(var t=this.settings.placeholder?1:0,e=0;e<9;e++)this._day.el.childNodes[e+t].innerHTML=(this.settings.leadingZero?"0":"")+(e+1)}},{key:"_updateMonthList",value:function(){var t=this,e=this.settings.monthFormat,n=this.settings.placeholder?1:0;this.monthFormat[e].forEach((function(e,r){t._month.el.childNodes[r+n].innerHTML=t._getMonthText(e)}))}},{key:"getDaysPerMonth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentMonth;return this._daysPerMonth[+t-1]}},{key:"setMonthFormat",value:function(t){return!!this.monthFormat[t]&&(t!==this.settings.monthFormat&&(this.settings.monthFormat=t,this._updateMonthList()),!0)}},{key:"setLanguage",value:function(e){var n=this;if(e===this.settings.locale||(""+e).length<2||(""+e).length>2)return!1;t.createLocale(e);var r=t.i18n[e];if(this.settings.placeholder&&this._date.forEach((function(t){t.el.childNodes[0].innerHTML=r.text[t.name]})),this.monthFormat=r.month,this.settings.locale=e,"numeric"===this.settings.monthFormat)return!1;var a=this.settings.placeholder?1:0;this.monthFormat[this.settings.monthFormat].forEach((function(t,e){n._month.el.childNodes[a+e].innerHTML=t})),this._triggerEvent(D[1])}},{key:"setDate",value:function(t){var e=this._parseDate(t);return e&&this._setDate(e),e}},{key:"resetDate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.startDate&&t?this.startDate:{year:void 0,month:void 0,day:void 0};this._setDate(e)}},{key:"addEventListener",value:function(t,e,n){if(D.indexOf(t)<0||"function"!=typeof e)return!1;this.element.addEventListener(t,e,n),this._registeredEventListeners.push({element:this.element,eventName:t,listener:e,option:n}),this.eventFired[t]&&e.call(this.element,this.eventFired[t])}},{key:"removeEventListener",value:function(t,e,n){this.element.removeEventListener(t,e,n)}},{key:"kill",value:function(){var t=this;if(this.eventFired={},this._registeredEventListeners&&this._registeredEventListeners.forEach((function(t){return t.element.removeEventListener(t.eventName,t.listener,t.option)})),this.settings.className){var e=this.settings.className;["year","month","day"].forEach((function(n){var r=e+"-"+n,a=t.element.querySelector("."+r);a&&(a.classList.remove(e),a.classList.remove(r))}))}this._triggerEvent(D[5])}},{key:"isLeapYear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentYear;return void 0===t?void 0:s(t)}},{key:"getDateString",value:function(t){if(!t){var e=this.getDate();return e?e.toLocaleDateString(this.settings.locale):e}if(!this.currentYear||!this.currentMonth||!this.currentDay)return"";var n=t.toLowerCase();return(n=(n=(n=(n=(n=n.replace(/yyyy/g,this.currentYear)).replace(/yy/g,(""+this.currentYear).slice(2))).replace(/mm/g,("0"+this.currentMonth).slice(-2))).replace(/m/g,this.currentMonth)).replace(/dd/g,("0"+this.currentDay).slice(-2))).replace(/d/g,this.currentDay)}},{key:"getDate",value:function(){return this.currentYear&&this.currentMonth&&this.currentDay?new Date(Date.UTC(this.currentYear,+this.currentMonth-1,this.currentDay)):""}},{key:"init",value:function(){if(this.initialized)return!0;this.initialized=!0,this.eventFired={},this._registeredEventListeners=[],this._daysPerMonth=[31,28,31,30,31,30,31,31,30,31,30,31],this._date=[],this._disabled=[];var e=this.settings;if(e.placeholder=k(e.placeholder),e.leadingZero=k(e.leadingZero),e.selectFuture=k(e.selectFuture),"now"===e.maxYear?this._yearStart=M.y:this._yearStart=e.maxYear,this._yearStart-=+e.minAge,e.minYear?this._yearEnd=+e.minYear:this._yearEnd=this._yearStart-+e.maxAge,t.createLocale(e.locale),this.monthFormat=t.i18n[e.locale].month,this._create(),this._triggerEvent(D[0]),e.defaultDate){var n=this.setDate("now"===e.defaultDate?(new Date).toString():e.defaultDate);this.currentYear=n.year,this.currentMonth=n.month,this.currentDay=n.day,this.startDate=n}}}],n&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();S.i18n={},S.currentLocale="en",S.getInstance=function(t){return o.get(t,"instance")},S.createLocale=function(t){if(t&&2===t.length||(t="en"),S.i18n[t])return S.i18n[t];for(var e=new Date("2000-01-15"),r={month:{}},a=0;a<12;a++)e.setMonth(a),_.forEach((function(n){r.month[n]=r.month[n]||[],r.month[n].push(e.toLocaleDateString(t,{month:n}))}));var i="BirthdayPickerLocale",s=n[t]?n[t]:n.en;return window[i]&&window[i][t]&&window[i][t].text&&(s=Object.assign({},s,window[i][t])),r.text=s.text,S.i18n[t]=r,r},S.setMonthFormat=function(t){v.forEach((function(e){e.setMonthFormat(t)}))},S.setLanguage=function(t){S.currentLocale=t,v.forEach((function(e){e.setLanguage(t)}))},S.killAll=function(){return!!v.length&&(v.forEach((function(t){S.kill(t)})),v=[],!0)},S.kill=function(t){if(!t)return!1;if(t.element||(t=S.getInstance(t)),!t)return!1;t.kill();var e=t.element;return e.dataset.bdpInit=!1,delete e.dataset.bdpInit,o.remove(e,"instance"),w=!1,!0},S.defaults={minYear:null,maxYear:"now",minAge:0,maxAge:100,monthFormat:"short",placeholder:!0,className:"null",defaultDate:null,autoInit:!0,leadingZero:!0,locale:"en",selectFuture:!1,arrange:"ymd",yearEl:null,monthEl:null,dayEl:null,roundDownDay:!0},S.init=function(){if(w)return!1;w=!0,S.createLocale(S.currentLocale);var t=document.querySelectorAll("["+p+"]");return 0!==t.length&&(t.forEach((function(t){new S(t)})),v)},y=S.init,g="DOMContentLoaded","complete"===document.readyState||"interactive"===document.readyState?(y(),document.removeEventListener(g,y)):document.addEventListener(g,y,!1);var F=S,O=e.A;export{O as default};